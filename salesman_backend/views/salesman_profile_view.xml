<?xml version="1.0" encoding="UTF-8"?>
<odoo>

    <!-- ✅ View النموذج (Form View) -->
    <record id="view_salesman_profile_form" model="ir.ui.view">
        <field name="name">salesman.profile.form</field>
        <field name="model">salesman.profile</field>
        <field name="type">form</field>
        <field name="arch" type="xml">
            <form string="بطاقة المندوب">
                <sheet>
                    <notebook>

                        <!-- ✅ البيانات الأساسية -->
                        <page string="البيانات الأساسية">
                            <group>
                                <field name="name"/>
                                <field name="mobile"/>
                                <field name="warehouse_id"/>
                            </group>
                        </page>

                        <!-- ✅ الصلاحيات -->
                        <page string="الصلاحيات">
                            <group string="إعدادات عامة" col="3">
                                <group>
                                    <field name="allow_add_new_customer"/>
                                    <field name="allow_update_customer_data"/>
                                    <field name="allow_zone_update"/>
                                    <field name="visit_notes_required"/>
                                    <field name="check_exit_time"/>
                                    <field name="enforce_visit_closure_location"/>
                                </group>
                                <group>
                                    <field name="photo_required_for_new_customer"/>
                                    <field name="allow_off_route_visits"/>
                                    <field name="restrict_clients_to_route"/>
                                    <field name="return_needs_approval"/>
                                    <field name="enforce_visit_time"/>
                                    <field name="force_visit_location"/>
                                </group>
                                <group>
                                    <field name="enforce_route_commitment"/>
                                    <field name="verify_debt_ceiling"/>
                                    <field name="verify_credit_days"/>
                                    <field name="allow_discount_by_percentage"/>
                                    <field name="allow_return_invoice"/>
                                    <field name="allow_invoice_sales"/>
                                </group>
                            </group>
                        </page>

                        <!-- ✅ صلاحيات التقارير -->
                        <page string="صلاحيات التقارير">
                            <group col="2">
                                <group>
                                    <field name="report_allow_statement"/>
                                    <field name="report_allow_aging"/>
                                    <field name="report_allow_invoices"/>
                                    <field name="report_allow_visits"/>
                                </group>
                                <group>
                                    <field name="report_allow_offers"/>
                                    <field name="report_allow_account"/>
                                    <field name="report_allow_debts"/>
                                </group>
                            </group>
                            <group col="3">
                                <field name="duration_1"/>
                                <field name="duration_2"/>
                                <field name="duration_3"/>
                            </group>
                        </page>

                        <!-- ✅ حقول الصفحة اليومية -->
                        <page string="حقول الصفحة اليومية">
                            <group col="2">
                                <group>
                                    <field name="daily_block_sales_total"/>
                                    <field name="daily_block_orders_total"/>
                                    <field name="daily_block_returns_total"/>
                                    <field name="daily_block_requests_total"/>
                                    <field name="daily_block_previous_balance"/>
                                    <field name="daily_block_expenses"/>
                                    <field name="daily_block_payments"/>
                                </group>
                                <group>
                                    <field name="daily_block_current_balance"/>
                                    <field name="daily_block_daily_visits"/>
                                    <field name="daily_block_pending_visits"/>
                                    <field name="daily_block_skipped_visits"/>
                                    <field name="daily_block_promotional_sales"/>
                                    <field name="daily_block_total_sales"/>
                                    <field name="daily_block_return_invoices"/>
                                    <field name="daily_block_approved_return_invoices"/>
                                </group>
                            </group>
                        </page>

                    </notebook>
                </sheet>
            </form>
        </field>
    </record>

    <!-- ✅ View القائمة (Tree View) -->
    <record id="view_salesman_profile_tree" model="ir.ui.view">
        <field name="name">salesman.profile.tree</field>
        <field name="model">salesman.profile</field>
        <field name="type">tree</field>
        <field name="arch" type="xml">
            <tree string="بطاقة المندوب">
                <field name="name"/>
                <field name="mobile"/>
                <field name="warehouse_id"/>
            </tree>
        </field>
    </record>

    <!-- ✅ Action -->
    <record id="action_salesman_profile" model="ir.actions.act_window">
        <field name="name">بطاقة المندوب</field>
        <field name="res_model">salesman.profile</field>
        <field name="view_mode">tree,form</field>
        <field name="help" type="html">
            <p>إدارة معلومات المندوب وصلاحياته ومساراته.</p>
        </field>
    </record>

    <!-- ✅ قائمة -->
    <menuitem id="menu_salesman_root" name="برنامج المناديب" sequence="10"/>
    <menuitem id="menu_salesman_profile"
              name="بطاقة المندوب"
              parent="menu_salesman_root"
              action="action_salesman_profile"
              sequence="1"/>
</odoo>
